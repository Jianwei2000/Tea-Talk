import{E as L,$ as O,G as V,S as U,H as X,b as F,c as H,d as q,f as A,w as N,F as Y,k as W,A as Z,g as _,q as J,t as j}from"./index-BjHk-I6Y.js";import{_ as K}from"./plugin-vueexport-helper-DlAUqK2U.js";function R(o,e,f,p){const u=L();return o.params.createElements&&Object.keys(p).forEach(l=>{if(!f[l]&&f.auto===!0){let c=o.$el.children(`.${p[l]}`)[0];c||(c=u.createElement("div"),c.className=p[l],o.$el.append(c)),f[l]=c,e[l]=c}}),f}function Q(o){let{swiper:e,extendParams:f,on:p,emit:u}=o;f({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}}),e.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null};function l(i){let d;return i&&(d=O(i),e.params.uniqueNavElements&&typeof i=="string"&&d.length>1&&e.$el.find(i).length===1&&(d=e.$el.find(i))),d}function c(i,d){const a=e.params.navigation;i&&i.length>0&&(i[d?"addClass":"removeClass"](a.disabledClass),i[0]&&i[0].tagName==="BUTTON"&&(i[0].disabled=d),e.params.watchOverflow&&e.enabled&&i[e.isLocked?"addClass":"removeClass"](a.lockClass))}function v(){if(e.params.loop)return;const{$nextEl:i,$prevEl:d}=e.navigation;c(d,e.isBeginning&&!e.params.rewind),c(i,e.isEnd&&!e.params.rewind)}function h(i){i.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&e.slidePrev()}function g(i){i.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&e.slideNext()}function m(){const i=e.params.navigation;if(e.params.navigation=R(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(i.nextEl||i.prevEl))return;const d=l(i.nextEl),a=l(i.prevEl);d&&d.length>0&&d.on("click",g),a&&a.length>0&&a.on("click",h),Object.assign(e.navigation,{$nextEl:d,nextEl:d&&d[0],$prevEl:a,prevEl:a&&a[0]}),e.enabled||(d&&d.addClass(i.lockClass),a&&a.addClass(i.lockClass))}function b(){const{$nextEl:i,$prevEl:d}=e.navigation;i&&i.length&&(i.off("click",g),i.removeClass(e.params.navigation.disabledClass)),d&&d.length&&(d.off("click",h),d.removeClass(e.params.navigation.disabledClass))}p("init",()=>{m(),v()}),p("toEdge fromEdge lock unlock",()=>{v()}),p("destroy",()=>{b()}),p("enable disable",()=>{const{$nextEl:i,$prevEl:d}=e.navigation;i&&i[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass),d&&d[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass)}),p("click",(i,d)=>{const{$nextEl:a,$prevEl:t}=e.navigation,n=d.target;if(e.params.navigation.hideOnClick&&!O(n).is(t)&&!O(n).is(a)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===n||e.pagination.el.contains(n)))return;let r;a?r=a.hasClass(e.params.navigation.hiddenClass):t&&(r=t.hasClass(e.params.navigation.hiddenClass)),u(r===!0?"navigationShow":"navigationHide"),a&&a.toggleClass(e.params.navigation.hiddenClass),t&&t.toggleClass(e.params.navigation.hiddenClass)}}),Object.assign(e.navigation,{update:v,init:m,destroy:b})}function S(o){return o===void 0&&(o=""),`.${o.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function ee(o){let{swiper:e,extendParams:f,on:p,emit:u}=o;const l="swiper-pagination";f({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:a=>a,formatFractionTotal:a=>a,bulletClass:`${l}-bullet`,bulletActiveClass:`${l}-bullet-active`,modifierClass:`${l}-`,currentClass:`${l}-current`,totalClass:`${l}-total`,hiddenClass:`${l}-hidden`,progressbarFillClass:`${l}-progressbar-fill`,progressbarOppositeClass:`${l}-progressbar-opposite`,clickableClass:`${l}-clickable`,lockClass:`${l}-lock`,horizontalClass:`${l}-horizontal`,verticalClass:`${l}-vertical`}}),e.pagination={el:null,$el:null,bullets:[]};let c,v=0;function h(){return!e.params.pagination.el||!e.pagination.el||!e.pagination.$el||e.pagination.$el.length===0}function g(a,t){const{bulletActiveClass:n}=e.params.pagination;a[t]().addClass(`${n}-${t}`)[t]().addClass(`${n}-${t}-${t}`)}function m(){const a=e.rtl,t=e.params.pagination;if(h())return;const n=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,r=e.pagination.$el;let s;const w=e.params.loop?Math.ceil((n-e.loopedSlides*2)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(s=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup),s>n-1-e.loopedSlides*2&&(s-=n-e.loopedSlides*2),s>w-1&&(s-=w),s<0&&e.params.paginationType!=="bullets"&&(s=w+s)):typeof e.snapIndex<"u"?s=e.snapIndex:s=e.activeIndex||0,t.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const C=e.pagination.bullets;let E,y,P;if(t.dynamicBullets&&(c=C.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),r.css(e.isHorizontal()?"width":"height",`${c*(t.dynamicMainBullets+4)}px`),t.dynamicMainBullets>1&&e.previousIndex!==void 0&&(v+=s-(e.previousIndex-e.loopedSlides||0),v>t.dynamicMainBullets-1?v=t.dynamicMainBullets-1:v<0&&(v=0)),E=Math.max(s-v,0),y=E+(Math.min(C.length,t.dynamicMainBullets)-1),P=(y+E)/2),C.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(k=>`${t.bulletActiveClass}${k}`).join(" ")),r.length>1)C.each(k=>{const x=O(k),$=x.index();$===s&&x.addClass(t.bulletActiveClass),t.dynamicBullets&&($>=E&&$<=y&&x.addClass(`${t.bulletActiveClass}-main`),$===E&&g(x,"prev"),$===y&&g(x,"next"))});else{const k=C.eq(s),x=k.index();if(k.addClass(t.bulletActiveClass),t.dynamicBullets){const $=C.eq(E),B=C.eq(y);for(let M=E;M<=y;M+=1)C.eq(M).addClass(`${t.bulletActiveClass}-main`);if(e.params.loop)if(x>=C.length){for(let M=t.dynamicMainBullets;M>=0;M-=1)C.eq(C.length-M).addClass(`${t.bulletActiveClass}-main`);C.eq(C.length-t.dynamicMainBullets-1).addClass(`${t.bulletActiveClass}-prev`)}else g($,"prev"),g(B,"next");else g($,"prev"),g(B,"next")}}if(t.dynamicBullets){const k=Math.min(C.length,t.dynamicMainBullets+4),x=(c*k-c)/2-P*c,$=a?"right":"left";C.css(e.isHorizontal()?$:"top",`${x}px`)}}if(t.type==="fraction"&&(r.find(S(t.currentClass)).text(t.formatFractionCurrent(s+1)),r.find(S(t.totalClass)).text(t.formatFractionTotal(w))),t.type==="progressbar"){let C;t.progressbarOpposite?C=e.isHorizontal()?"vertical":"horizontal":C=e.isHorizontal()?"horizontal":"vertical";const E=(s+1)/w;let y=1,P=1;C==="horizontal"?y=E:P=E,r.find(S(t.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${y}) scaleY(${P})`).transition(e.params.speed)}t.type==="custom"&&t.renderCustom?(r.html(t.renderCustom(e,s+1,w)),u("paginationRender",r[0])):u("paginationUpdate",r[0]),e.params.watchOverflow&&e.enabled&&r[e.isLocked?"addClass":"removeClass"](t.lockClass)}function b(){const a=e.params.pagination;if(h())return;const t=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,n=e.pagination.$el;let r="";if(a.type==="bullets"){let s=e.params.loop?Math.ceil((t-e.loopedSlides*2)/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&!e.params.loop&&s>t&&(s=t);for(let w=0;w<s;w+=1)a.renderBullet?r+=a.renderBullet.call(e,w,a.bulletClass):r+=`<${a.bulletElement} class="${a.bulletClass}"></${a.bulletElement}>`;n.html(r),e.pagination.bullets=n.find(S(a.bulletClass))}a.type==="fraction"&&(a.renderFraction?r=a.renderFraction.call(e,a.currentClass,a.totalClass):r=`<span class="${a.currentClass}"></span> / <span class="${a.totalClass}"></span>`,n.html(r)),a.type==="progressbar"&&(a.renderProgressbar?r=a.renderProgressbar.call(e,a.progressbarFillClass):r=`<span class="${a.progressbarFillClass}"></span>`,n.html(r)),a.type!=="custom"&&u("paginationRender",e.pagination.$el[0])}function i(){e.params.pagination=R(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const a=e.params.pagination;if(!a.el)return;let t=O(a.el);t.length!==0&&(e.params.uniqueNavElements&&typeof a.el=="string"&&t.length>1&&(t=e.$el.find(a.el),t.length>1&&(t=t.filter(n=>O(n).parents(".swiper")[0]===e.el))),a.type==="bullets"&&a.clickable&&t.addClass(a.clickableClass),t.addClass(a.modifierClass+a.type),t.addClass(e.isHorizontal()?a.horizontalClass:a.verticalClass),a.type==="bullets"&&a.dynamicBullets&&(t.addClass(`${a.modifierClass}${a.type}-dynamic`),v=0,a.dynamicMainBullets<1&&(a.dynamicMainBullets=1)),a.type==="progressbar"&&a.progressbarOpposite&&t.addClass(a.progressbarOppositeClass),a.clickable&&t.on("click",S(a.bulletClass),function(r){r.preventDefault();let s=O(this).index()*e.params.slidesPerGroup;e.params.loop&&(s+=e.loopedSlides),e.slideTo(s)}),Object.assign(e.pagination,{$el:t,el:t[0]}),e.enabled||t.addClass(a.lockClass))}function d(){const a=e.params.pagination;if(h())return;const t=e.pagination.$el;t.removeClass(a.hiddenClass),t.removeClass(a.modifierClass+a.type),t.removeClass(e.isHorizontal()?a.horizontalClass:a.verticalClass),e.pagination.bullets&&e.pagination.bullets.removeClass&&e.pagination.bullets.removeClass(a.bulletActiveClass),a.clickable&&t.off("click",S(a.bulletClass))}p("init",()=>{i(),b(),m()}),p("activeIndexChange",()=>{(e.params.loop||typeof e.snapIndex>"u")&&m()}),p("snapIndexChange",()=>{e.params.loop||m()}),p("slidesLengthChange",()=>{e.params.loop&&(b(),m())}),p("snapGridLengthChange",()=>{e.params.loop||(b(),m())}),p("destroy",()=>{d()}),p("enable disable",()=>{const{$el:a}=e.pagination;a&&a[e.enabled?"removeClass":"addClass"](e.params.pagination.lockClass)}),p("lock unlock",()=>{m()}),p("click",(a,t)=>{const n=t.target,{$el:r}=e.pagination;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&r.length>0&&!O(n).hasClass(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&n===e.navigation.nextEl||e.navigation.prevEl&&n===e.navigation.prevEl))return;const s=r.hasClass(e.params.pagination.hiddenClass);u(s===!0?"paginationShow":"paginationHide"),r.toggleClass(e.params.pagination.hiddenClass)}}),Object.assign(e.pagination,{render:b,update:m,init:i,destroy:d})}function ae(o){let{swiper:e,extendParams:f,on:p,emit:u}=o,l;e.autoplay={running:!1,paused:!1},f({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});function c(){const n=e.slides.eq(e.activeIndex);let r=e.params.autoplay.delay;n.attr("data-swiper-autoplay")&&(r=n.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(l),l=V(()=>{let s;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),s=e.slidePrev(e.params.speed,!0,!0),u("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?h():(s=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),u("autoplay")):(s=e.slidePrev(e.params.speed,!0,!0),u("autoplay")):e.params.loop?(e.loopFix(),s=e.slideNext(e.params.speed,!0,!0),u("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?h():(s=e.slideTo(0,e.params.speed,!0,!0),u("autoplay")):(s=e.slideNext(e.params.speed,!0,!0),u("autoplay")),(e.params.cssMode&&e.autoplay.running||s===!1)&&c()},r)}function v(){return typeof l<"u"||e.autoplay.running?!1:(e.autoplay.running=!0,u("autoplayStart"),c(),!0)}function h(){return!e.autoplay.running||typeof l>"u"?!1:(l&&(clearTimeout(l),l=void 0),e.autoplay.running=!1,u("autoplayStop"),!0)}function g(n){e.autoplay.running&&(e.autoplay.paused||(l&&clearTimeout(l),e.autoplay.paused=!0,n===0||!e.params.autoplay.waitForTransition?(e.autoplay.paused=!1,c()):["transitionend","webkitTransitionEnd"].forEach(r=>{e.$wrapperEl[0].addEventListener(r,b)})))}function m(){const n=L();n.visibilityState==="hidden"&&e.autoplay.running&&g(),n.visibilityState==="visible"&&e.autoplay.paused&&(c(),e.autoplay.paused=!1)}function b(n){!e||e.destroyed||!e.$wrapperEl||n.target===e.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(r=>{e.$wrapperEl[0].removeEventListener(r,b)}),e.autoplay.paused=!1,e.autoplay.running?c():h())}function i(){e.params.autoplay.disableOnInteraction?h():(u("autoplayPause"),g()),["transitionend","webkitTransitionEnd"].forEach(n=>{e.$wrapperEl[0].removeEventListener(n,b)})}function d(){e.params.autoplay.disableOnInteraction||(e.autoplay.paused=!1,u("autoplayResume"),c())}function a(){e.params.autoplay.pauseOnMouseEnter&&(e.$el.on("mouseenter",i),e.$el.on("mouseleave",d))}function t(){e.$el.off("mouseenter",i),e.$el.off("mouseleave",d)}p("init",()=>{e.params.autoplay.enabled&&(v(),L().addEventListener("visibilitychange",m),a())}),p("beforeTransitionStart",(n,r,s)=>{e.autoplay.running&&(s||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(r):h())}),p("sliderFirstMove",()=>{e.autoplay.running&&(e.params.autoplay.disableOnInteraction?h():g())}),p("touchEnd",()=>{e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&c()}),p("destroy",()=>{t(),e.autoplay.running&&h(),L().removeEventListener("visibilitychange",m)}),Object.assign(e.autoplay,{pause:g,run:c,start:v,stop:h})}function te(o){const{effect:e,swiper:f,on:p,setTranslate:u,setTransition:l,overwriteParams:c,perspective:v}=o;p("beforeInit",()=>{if(f.params.effect!==e)return;f.classNames.push(`${f.params.containerModifierClass}${e}`),v&&v()&&f.classNames.push(`${f.params.containerModifierClass}3d`);const g=c?c():{};Object.assign(f.params,g),Object.assign(f.originalParams,g)}),p("setTranslate",()=>{f.params.effect===e&&u()}),p("setTransition",(g,m)=>{f.params.effect===e&&l(m)});let h;p("virtualUpdate",()=>{f.slides.length||(h=!0),requestAnimationFrame(()=>{h&&f.slides.length&&(u(),h=!1)})})}function se(o,e){return o.transformEl?e.find(o.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):e}function D(o,e,f){const p=`swiper-slide-shadow${f?`-${f}`:""}`,u=o.transformEl?e.find(o.transformEl):e;let l=u.children(`.${p}`);return l.length||(l=O(`<div class="swiper-slide-shadow${f?`-${f}`:""}"></div>`),u.append(l)),l}function ie(o){let{swiper:e,extendParams:f,on:p}=o;f({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0,transformEl:null}}),te({effect:"coverflow",swiper:e,on:p,setTranslate:()=>{const{width:c,height:v,slides:h,slidesSizesGrid:g}=e,m=e.params.coverflowEffect,b=e.isHorizontal(),i=e.translate,d=b?-i+c/2:-i+v/2,a=b?m.rotate:-m.rotate,t=m.depth;for(let n=0,r=h.length;n<r;n+=1){const s=h.eq(n),w=g[n],C=s[0].swiperSlideOffset,E=(d-C-w/2)/w,y=typeof m.modifier=="function"?m.modifier(E):E*m.modifier;let P=b?a*y:0,k=b?0:a*y,x=-t*Math.abs(y),$=m.stretch;typeof $=="string"&&$.indexOf("%")!==-1&&($=parseFloat(m.stretch)/100*w);let B=b?0:$*y,M=b?$*y:0,z=1-(1-m.scale)*Math.abs(y);Math.abs(M)<.001&&(M=0),Math.abs(B)<.001&&(B=0),Math.abs(x)<.001&&(x=0),Math.abs(P)<.001&&(P=0),Math.abs(k)<.001&&(k=0),Math.abs(z)<.001&&(z=0);const G=`translate3d(${M}px,${B}px,${x}px)  rotateX(${k}deg) rotateY(${P}deg) scale(${z})`;if(se(m,s).transform(G),s[0].style.zIndex=-Math.abs(Math.round(y))+1,m.slideShadows){let T=b?s.find(".swiper-slide-shadow-left"):s.find(".swiper-slide-shadow-top"),I=b?s.find(".swiper-slide-shadow-right"):s.find(".swiper-slide-shadow-bottom");T.length===0&&(T=D(m,s,b?"left":"top")),I.length===0&&(I=D(m,s,b?"right":"bottom")),T.length&&(T[0].style.opacity=y>0?y:0),I.length&&(I[0].style.opacity=-y>0?-y:0)}}},setTransition:c=>{const{transformEl:v}=e.params.coverflowEffect;(v?e.slides.find(v):e.slides).transition(c).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(c)},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}const ne={components:{Swiper:U,SwiperSlide:X},data(){return{products:[],randomProducts:[],modules:[Q,ee,ae,ie],swiper:{autoplay:{delay:3e3,disableOnInteraction:!1},breakpoints:{0:{slidesPerView:1},768:{slidesPerView:2,spaceBetween:30},1024:{slidesPerView:4,spaceBetween:50}}}}},methods:{getProductsList(){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/kjwapi/products/all").then(o=>{this.products=o.data.products,this.getRandomProducts()}).catch(o=>{this.$httpMessageState(o.response,o.response.data.message)})},getRandomProducts(){if(this.$route.params.id){const o=this.$route.params.id;this.randomProducts=this.products.filter(e=>e.id!==o)}else this.randomProducts=this.products;for(let o=this.randomProducts.length-1;o>0;o--){let e=Math.floor(Math.random()*(o+1));[this.randomProducts[o],this.randomProducts[e]]=[this.randomProducts[e],this.randomProducts[o]]}this.randomProducts=this.randomProducts.splice(0,10)}},watch:{$route(){this.$route.name==="product"&&this.getProductsList()}},mounted(){this.getProductsList()}},le={class:"card border-width h-100"},re={class:"card-body d-flex justify-content-between"},oe={class:"product-title fw-bold"},de={class:"product-price fw-bold text-primary"};function pe(o,e,f,p,u,l){const c=F("RouterLink"),v=F("swiper-slide"),h=F("swiper");return H(),q("div",null,[A(h,{modules:u.modules,"space-between":50,navigation:!0,pagination:!1,breakpoints:u.swiper.breakpoints,autoplay:""},{default:N(()=>[(H(!0),q(Y,null,W(u.randomProducts,g=>(H(),Z(v,{key:g.id,class:"swiper-slide"},{default:N(()=>[_("div",le,[A(c,{to:`/product/${g.id}`},{default:N(()=>[_("div",{class:"swiper-slide-inner",style:J({backgroundImage:`url(${g.imageUrl})`})},null,4)]),_:2},1032,["to"]),_("div",re,[_("h2",oe,j(g.title),1),_("p",de,"NT$ "+j(g.price),1)])])]),_:2},1024))),128))]),_:1},8,["modules","breakpoints"])])}const me=K(ne,[["render",pe],["__scopeId","data-v-67119ae0"]]);export{me as R};
