import{r as c,D as $,u as C,o as B,a as M,d as p,g as e,q as N,t as o,C as O,f as v,s as S,B as j,l as f,b as q,c as b}from"./index-BjHk-I6Y.js";import{u as D}from"./orderStore-Cn02yZyM.js";const R={class:"container my-8"},T=e("div",{class:"row my-3 text-center fs-6"},[e("div",{class:"col-4 text-primary fw-bold"},"1.購物清單"),e("div",{class:"col-4 text-primary fw-bold"},"2.填寫資料"),e("div",{class:"col-4 text-muted"},"3.完成訂單")],-1),U={class:"progress"},z=["aria-valuenow"],E={class:"d-flex justify-content-center my-5"},F={class:"col col-md-7 bg-light p-3 p-md-5 rounded-3 shadow"},I=e("h2",{class:"text-center border-bottom border-4 border-warning fs-3 fw-bold pb-3"}," 訂購資訊 ",-1),A={class:"table mt-4 fs-lg-5"},P=e("th",null,"訂單編號",-1),G=e("th",null,"訂購人",-1),H=e("th",null,"Email",-1),J=e("th",null,"聯絡電話",-1),K=e("th",null,"寄送地址",-1),L={key:0},Q=e("th",null,"備註",-1),W=e("th",null,"總金額",-1),X={class:"my-3"},Y={class:"border p-3"},Z=e("h5",{class:"my-3"},"付款方式",-1),ee={class:"my-3"},te={class:"form-check"},se=e("label",{class:"form-check-label",for:"getpay"}," 貨到付款 ",-1),le={class:"form-check"},oe=e("label",{class:"form-check-label",for:"transfer"}," 銀行轉帳 ",-1),ae=e("p",{class:"my-3"},"ATM 轉帳繳款資料如下",-1),ne={class:"table table-striped table-bordered text-dark"},re=e("tr",null,[e("th",null,"◆ 銀 行："),e("td",null,"008 華南商業銀行")],-1),de=e("tr",null,[e("th",null,"◆ 戶 名："),e("td",null,"茶物語股份有限公司")],-1),ce=e("th",null,"◆ 帳 號：",-1),ie=e("span",null,"123-456-123456-7",-1),ue=e("span",{class:"material-icons fs-6 ms-2"},[e("i",{class:"bi bi-copy"})],-1),_e=[ue],ve={__name:"CheckOut",setup(he){const y=D(),a=c("貨到付款"),l=c({}),n=$(),g=C();function k(t){f.get(`https://vue3-course-api.hexschool.io/v2/api/kjwapi/order/${t}`).then(s=>{l.value=s.data.order}).catch(s=>{console.error(s.response)})}function w(){f.post(`https://vue3-course-api.hexschool.io/v2/api/kjwapi/pay/${n.params.id}`).then(t=>{console.log(t,t.data.message),y.setSelectedRadio(a.value),g.push(`/orderfinished/${n.params.id}`)}).catch(t=>{console.error(t.response,"讀取訂單")})}function x(){navigator.clipboard.writeText("1234561234567"),alert("帳號已複製")}const r=c(50);function V(t){r.value=t}return B(()=>{let t=50;const s=setInterval(()=>{t>=75?clearInterval(s):(t+=5,V(t))},50);k(n.params.id)}),M(()=>{}),(t,s)=>{var u,_,h,m;const i=q("VField");return b(),p("div",R,[T,e("div",U,[e("div",{class:"progress-bar bg-primary",role:"progressbar",style:N({width:r.value+"%"}),"aria-valuenow":r.value,"aria-valuemin":"0","aria-valuemax":"100"},null,12,z)]),e("div",E,[e("div",F,[I,e("table",A,[e("tbody",null,[e("tr",null,[P,e("td",null,o(l.value.id),1)]),e("tr",null,[G,e("td",null,o((u=l.value.user)==null?void 0:u.name),1)]),e("tr",null,[H,e("td",null,o((_=l.value.user)==null?void 0:_.email),1)]),e("tr",null,[J,e("td",null,o((h=l.value.user)==null?void 0:h.tel),1)]),e("tr",null,[K,e("td",null,o((m=l.value.user)==null?void 0:m.address),1)]),l.value.message?(b(),p("tr",L,[Q,e("td",null,o(l.value.message),1)])):O("",!0),e("tr",null,[W,e("td",null,"NTD$ "+o(t.$filters.currency(l.value.total))+" 元",1)])])]),e("div",X,[e("div",Y,[Z,e("div",ee,[e("div",te,[v(i,{id:"getpay",name:"paymentMethod",type:"radio",class:"form-check-input",rules:"required",value:"貨到付款",modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=d=>a.value=d)},null,8,["modelValue"]),se]),e("div",le,[v(i,{id:"transfer",name:"paymentMethod",type:"radio",class:"form-check-input",rules:"required",modelValue:a.value,"onUpdate:modelValue":s[1]||(s[1]=d=>a.value=d),value:"銀行轉帳"},null,8,["modelValue"]),oe])]),e("div",{class:S({"d-none":a.value!=="銀行轉帳"})},[ae,e("table",ne,[e("tbody",null,[re,de,e("tr",null,[ce,e("td",null,[ie,e("a",{href:"#",onClick:j(x,["prevent"])},_e)])])])])],2)])]),e("div",{class:"btn btn-primary btn-lg w-100",onClick:w},"下一步")])])])}}};export{ve as default};
