import{y as w,C as k,u as S,r as p,o as B,d as a,g as t,q as D,t as s,B as d,A as E,m as $,l as C,c as n}from"./index-De0Ru6L5.js";import{u as N}from"./orderStore-DZ8Z4QH_.js";const R={class:"container my-8"},O=t("div",{class:"row my-3 text-center fs-6"},[t("div",{class:"col-4 text-primary fw-bold"},"1.購物清單"),t("div",{class:"col-4 text-primary fw-bold"},"2.填寫資料"),t("div",{class:"col-4 text-primary fw-bold"},"3.完成訂單")],-1),T={class:"progress"},V=["aria-valuenow"],j={class:"d-flex justify-content-center my-5"},I={class:"col col-md-7 bg-light p-3 p-md-5 rounded-3 shadow"},L=$('<button class="btn btn-outline-dark rounded-0" data-bs-toggle="collapse" data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample"> 查看明細 </button><h2 class="text-center xl-icon"><i class="bi bi-bag-check-fill"></i></h2><h3 class="text-center fs-3 fw-bold my-4">訂單已成立</h3><p class="text-center"> 已收到您的訂單，感謝您的訂購!<br> 貨到付款之商品將於1~2個工作天寄出，請留意簡訊通知或配送人員的電話!<br> 銀行轉帳之商品需在24小時內完成付款，完成付款後商品將於1~2個工作天寄出! </p>',4),M={class:"collapse",id:"collapseExample"},P={class:"border mt-5"},q={class:"table"},z=t("th",null,"訂單時間",-1),A={class:""},F={class:"me-2"},G={class:"text-muted fs-md-6 d-none d-sm-inline"},H=t("th",null,"訂單編號",-1),J={class:""},K={class:"d-flex align-items-center"},Q=t("th",null,"訂購人",-1),U=t("th",null,"Email",-1),W=t("th",null,"聯絡電話",-1),X=t("th",null,"寄送地址",-1),Y={key:0},Z=t("th",null,"備註",-1),tt={class:"border-0 border-bottom border-3 border-dark"},et=t("th",null,"總金額",-1),st=t("th",null,"付款方式",-1),lt={key:0},ot={class:"text-center",colspan:"2"},at={class:"table table-striped table-bordered text-dark"},nt=t("tr",null,[t("th",null,"◆ 銀 行："),t("td",null,"008 華南商業銀行")],-1),rt=t("tr",null,[t("th",null,"◆ 戶 名："),t("td",null,"茶物語股份有限公司")],-1),ct=t("th",null,"◆ 帳 號：",-1),dt=t("span",null,"123-456-123456-7",-1),it=t("span",{class:"material-icons fs-6 ms-2"},[t("i",{class:"bi bi-copy"})],-1),ut=[it],_t=t("tr",null,[t("td",{class:"text-center",colspan:"3"},[t("small",{class:"fs-6 text-danger"},"***提醒您，選擇轉帳之訂單需於24小時內完成付款，謝謝您的支持***")])],-1),ht={key:1},pt=t("td",{class:"text-center",colspan:"2"},[t("small",{class:"fs-6 text-danger"},"***您訂購的商品將在近期安排出貨，請留意簡訊通知或配送人員的電話***")],-1),mt=[pt],xt={__name:"OrderFinished",setup(vt){const m=N(),r=w(()=>m.selectedRadio),v=k(),b=S(),e=p({});function f(l){C.get(`https://vue3-course-api.hexschool.io/v2/api/kjwapi/order/${l}`).then(o=>{e.value=o.data.order}).catch(o=>{console.error(o.response)})}const c=p(75);function x(l){c.value=l}function g(){navigator.clipboard.writeText("1234561234567"),alert("帳號已複製")}function y(){b.push("/products")}return B(()=>{let l=75;const o=setInterval(()=>{l>=100?clearInterval(o):(l+=5,x(l))},50);f(v.params.id)}),(l,o)=>{var i,u,_,h;return n(),a("div",R,[O,t("div",T,[t("div",{class:"progress-bar bg-primary",role:"progressbar",style:D({width:c.value+"%"}),"aria-valuenow":c.value,"aria-valuemin":"0","aria-valuemax":"100"},null,12,V)]),t("div",j,[t("div",I,[L,t("div",M,[t("div",P,[t("table",q,[t("tbody",null,[t("tr",null,[z,t("td",A,[t("span",F,s(new Date(e.value.paid_date*1e3).toLocaleDateString()),1),t("small",G,s(new Date(e.value.paid_date*1e3).toLocaleTimeString()),1)])]),t("tr",null,[H,t("td",J,[t("div",K,s(e.value.id),1)])]),t("tr",null,[Q,t("td",null,s((i=e.value.user)==null?void 0:i.name),1)]),t("tr",null,[U,t("td",null,s((u=e.value.user)==null?void 0:u.email),1)]),t("tr",null,[W,t("td",null,s((_=e.value.user)==null?void 0:_.tel),1)]),t("tr",null,[X,t("td",null,s((h=e.value.user)==null?void 0:h.address),1)]),e.value.message?(n(),a("tr",Y,[Z,t("td",null,s(e.value.message),1)])):d("",!0),t("tr",tt,[et,t("td",null,"NTD$ "+s(l.$filters.currency(e.value.total))+" 元",1)])]),t("tfoot",null,[t("tr",null,[st,t("td",null,s(r.value),1)]),r.value==="銀行轉帳"?(n(),a("tr",lt,[t("td",ot,[t("table",at,[t("tbody",null,[nt,rt,t("tr",null,[ct,t("td",null,[dt,t("a",{href:"#",onClick:E(g,["prevent"])},ut)])]),_t])])])])):d("",!0),r.value==="貨到付款"?(n(),a("tr",ht,mt)):d("",!0)])])])]),t("div",{class:"text-end"},[t("button",{class:"btn btn-primary btn-lg mt-4",onClick:y},"繼續選購")])])])])}}};export{xt as default};
