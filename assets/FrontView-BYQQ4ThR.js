import{u as R,r as y,o as q,e as g,a as E,b,c as n,d,f as s,w as a,g as t,h as o,i as $,t as u,j as L,v as C,F as p,k as B,l as w,m as I,p as D,n as M}from"./index-B6NfvoMi.js";import{S as T}from"./sweetalert2.all-2OC8-NOp.js";import{u as P}from"./favoriteStore-B-d2UUn5.js";import{_ as U}from"./plugin-vueexport-helper-DlAUqK2U.js";const J=t("div",{class:"loader-container"},[t("div",{class:"loader"}),t("div",{class:"text-white text-center fs-4 mt-2"},"喝杯熱茶，稍等片刻 ~ ~")],-1),z={class:"fixed-top navbar-expand-lg text-primary bg-white shadow"},A={class:"d-flex justify-content-between"},G={class:"d-flex"},H={class:"mt-2 mt-md-1"},K={class:"d-md-block d-none"},O={class:"d-flex mt-3 list-unstyled"},Q={class:"d-flex me-5"},W={class:"d-flex list-unstyled mt-2"},X={class:"material-icons text-primary position-relative fs-3 me-4"},Y=t("i",{class:"bi bi-heart-fill"},null,-1),Z={class:"fs-3 text-primary position-relative","data-bs-toggle":"offcanvas",href:"#offcanvasExample",role:"button","aria-controls":"offcanvasExample"},tt=t("i",{class:"bi bi-cart-fill"},null,-1),st={class:"ms-4 dropdown d-md-none"},at=t("a",{class:"fs-2 dropdown-toggle",href:"#",id:"dropdownMenuLink","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"bi bi-list"})],-1),ot={class:"dropdown-menu shadow text-center","aria-labelledby":"dropdownMenuLink"},et=t("hr",null,null,-1),lt=t("hr",null,null,-1),it=t("hr",null,null,-1),ct={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasExample","aria-labelledby":"offcanvasExampleLabel"},nt=t("div",{class:"offcanvas-header"},[t("h5",{class:"offcanvas-title",id:"offcanvasExampleLabel"},"購物車"),t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),dt={key:0,class:"offcanvas-body p-4"},rt=["to"],ut=["onClick"],_t=t("i",{class:"bi bi-trash3-fill"},null,-1),ft=[_t],bt={class:"mx-3"},pt=["src","alt"],ht={class:"d-flex flex-column justify-content-start pt-2 pb-1"},vt={class:"fw-bold fs-5 mb-3"},mt={class:"d-flex align-items-end mb-3"},gt={class:"fw-bold fs-5"},wt={class:"fw-bold fs-7 ms-2 text-muted"},xt={class:"fs-7"},kt={key:1,class:"p-4 text-center"},yt=t("span",{class:"fs-1 material-icons-outlined sentiment_dissatisfied text-primary pb-3"},[t("i",{class:"bi bi-emoji-smile-fill"})],-1),$t=t("p",null,"沒有任何商品",-1),Lt={__name:"FrontNav",setup(r){const f=P(),c=R(),h=y([]),_=y({carts:[]});function v(){w.get("https://vue3-course-api.hexschool.io/v2/api/kjwapi/cart").then(e=>{_.value=e.data.data}).catch(e=>{console.error(e.response)})}function S(e){w.delete(`https://vue3-course-api.hexschool.io/v2/api/kjwapi/cart/${e}`).then(()=>{v(),g.emit("get-cart"),T.fire({position:"top-end",icon:"success",title:"已刪除",showConfirmButton:!1,timer:1e3})}).catch(m=>{T.fire({icon:"error",title:"錯誤",text:m.response.data.message}),console.error("錯誤訊息:",m.response)})}function V(){c.push("/cart")}function j(){c.push("/products")}function F(){w.get("https://vue3-course-api.hexschool.io/v2/api/kjwapi/products/all").then(e=>{h.value=e.data.products}).catch(e=>{console.error(e.response)})}return q(()=>{F(),g.on("get-cart",v)}),E(()=>{g.off("get-cart",v)}),(e,m)=>{var k;const N=b("VLoading"),i=b("RouterLink");return n(),d(p,null,[s(N,{active:e.isLoading},{default:a(()=>[J]),_:1},8,["active"]),t("div",z,[t("div",A,[t("div",G,[t("h1",H,[s(i,{to:"/",class:"ms-5 navbar-brand dancing-script fs-1 fw-bold"},{default:a(()=>[o("Tea Talk")]),_:1})]),t("div",K,[t("ul",O,[t("li",null,[s(i,{class:"link pb-3 ms-5 fs-7 fw-bold",to:"/products"},{default:a(()=>[o("所有商品")]),_:1})]),t("li",null,[s(i,{class:"link pb-3 ms-4 fs-7 fw-bold",to:"/about"},{default:a(()=>[o("關於我們")]),_:1})]),t("li",null,[s(i,{class:"link pb-3 ms-4 fs-7 fw-bold",to:"/qa"},{default:a(()=>[o("常見問題")]),_:1})]),t("li",null,[s(i,{class:"link pb-3 ms-4 fs-7 fw-bold",to:"/odsearch"},{default:a(()=>[o("訂單查詢")]),_:1})])])])]),t("div",Q,[t("ul",W,[t("li",null,[s(i,{class:"home text-primary",to:"/favorite"},{default:a(()=>[t("span",X,[Y,$(t("span",{class:"favorite-num rounded-pill bg-danger position-absolute"},u(L(f).favoriteCount),513),[[C,L(f).favoriteCount>0]])])]),_:1})]),t("li",null,[t("a",Z,[tt,$(t("span",{class:"cart-num rounded-pill bg-danger position-absolute"},u(_.value.carts.length),513),[[C,_.value.carts.length>0]])])]),t("li",null,[t("div",st,[at,t("ul",ot,[t("li",null,[s(i,{class:"link fs-5 fw-bold",to:"/products"},{default:a(()=>[o("所有商品")]),_:1})]),et,t("li",null,[s(i,{class:"link fs-5 fw-bold",to:"/about"},{default:a(()=>[o("關於我們")]),_:1})]),lt,t("li",null,[s(i,{class:"link fs-5 fw-bold",to:"/qa"},{default:a(()=>[o("常見問題")]),_:1})]),it,t("li",null,[s(i,{class:"link fs-5 fw-bold",to:"/odsearch"},{default:a(()=>[o("訂單查詢")]),_:1})])])])])])])])]),t("div",ct,[nt,((k=_.value.carts)==null?void 0:k.length)!==0?(n(),d("div",dt,[(n(!0),d(p,null,B(_.value.carts,l=>(n(),d("div",{key:l.id},[t("div",{class:"card-item d-flex mb-3",to:`/product/${l.product.id}`},[t("span",{class:"material-icons-outlined align-self-center text-muted del-icon",onClick:It=>S(l.id)},ft,8,ut),t("div",bt,[t("img",{class:"cart-img rounded-3",src:l.product.imageUrl,alt:l.title},null,8,pt)]),t("div",ht,[t("h3",vt,u(l.product.title),1),t("div",mt,[t("p",gt," NT$ "+u(e.$filters.currency(l.product.price*l.qty)),1),t("del",wt," NT$ "+u(e.$filters.currency(l.product.origin_price*l.qty)),1)]),t("p",xt,"數量："+u(l.qty),1)])],8,rt)]))),128)),t("button",{type:"button",class:"btn btn-primary text-white mt-4 w-100","data-bs-dismiss":"offcanvas",onClick:V}," 前往購物清單 ")])):(n(),d("div",kt,[yt,$t,t("button",{type:"button",class:"btn btn-primary text-white mt-4 w-100","data-bs-dismiss":"offcanvas",onClick:j}," 來去選購！ ")]))])],64)}}},Ct={},x=r=>(D("data-v-72bb02c9"),r=r(),M(),r),Tt=x(()=>t("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"},null,-1)),St={class:"footer-dark"},Vt={class:"container"},jt={class:"row"},Ft={class:"col-sm-6 col-md-3 item text-space"},Nt=x(()=>t("h3",null,"服務相關",-1)),Rt=I('<div class="col-sm-6 col-md-3 item text-space" data-v-72bb02c9><h3 data-v-72bb02c9>客服相關</h3><ul data-v-72bb02c9><li data-v-72bb02c9><a href="tel:061234567" data-v-72bb02c9>客服電話 : 06-1234567</a></li><li data-v-72bb02c9><a href="mailto:teatalk@gmail.com" data-v-72bb02c9>客服信箱 : teatalk@gmail.com</a></li><li data-v-72bb02c9><a data-v-72bb02c9>服務時段 : 週一～週五 9am-6pm</a></li></ul></div><div class="col-md-6 item text text-space" data-v-72bb02c9><h3 data-v-72bb02c9>Tea Talk</h3><p data-v-72bb02c9> 中華文化博大精深，飲茶文化更是其最。<br data-v-72bb02c9> 喝茶人人都會、時時刻刻都在喝茶聊天，以茶會友。<br data-v-72bb02c9> 但是大家都忘記最簡單最平常的喝茶也需要學習的深奧的學問。<br data-v-72bb02c9></p></div><div class="col item social" data-v-72bb02c9><a href="https://github.com/Jianwei2000" target="_blink" data-v-72bb02c9><i class="bi bi-github" data-v-72bb02c9></i></a><a href="https://www.facebook.com/" target="_blink" data-v-72bb02c9><i class="bi bi-facebook" data-v-72bb02c9></i></a><a href="https://www.instagram.com/" target="_blink" data-v-72bb02c9><i class="bi bi-instagram" data-v-72bb02c9></i></a></div>',3),qt=x(()=>t("p",{class:"copyright text-space dancing-script"},"Tea Talk © 2024",-1));function Et(r,f){const c=b("RouterLink");return n(),d(p,null,[Tt,t("div",St,[t("footer",null,[t("div",Vt,[t("div",jt,[t("div",Ft,[Nt,t("ul",null,[t("li",null,[s(c,{to:"/products"},{default:a(()=>[o("所有商品")]),_:1})]),t("li",null,[s(c,{to:"/about"},{default:a(()=>[o("關於我們")]),_:1})]),t("li",null,[s(c,{to:"/qa"},{default:a(()=>[o("常見問題")]),_:1})]),t("li",null,[s(c,{to:"/odsearch"},{default:a(()=>[o("訂單查詢")]),_:1})]),t("li",null,[s(c,{to:"/login"},{default:a(()=>[o("進入後台")]),_:1})])])]),Rt]),qt])])])],64)}const Bt=U(Ct,[["render",Et],["__scopeId","data-v-72bb02c9"]]),Jt={__name:"FrontView",setup(r){return(f,c)=>{const h=b("RouterView");return n(),d(p,null,[s(Lt),s(h),s(Bt)],64)}}};export{Jt as default};
