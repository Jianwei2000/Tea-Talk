import{u as R,r as y,o as q,e as g,a as E,b as p,c,d,f as s,w as o,g as t,h as l,i as $,t as u,j as L,v as C,F as b,k as B,l as x,m as I,p as D,n as M}from"./index-CyAoszrq.js";import{S as T}from"./sweetalert2.all-CoQWtg_d.js";import{u as P}from"./favoriteStore-TKUujXST.js";import{_ as U}from"./plugin-vueexport-helper-DlAUqK2U.js";const J=t("div",{class:"loader-container"},[t("div",{class:"loader"}),t("div",{class:"text-white text-center fs-4 mt-2"},"喝杯熱茶，稍等片刻 ~ ~")],-1),z={class:"fixed-top navbar-expand-lg text-primary bg-white shadow"},A={class:"d-flex justify-content-between"},G={class:"d-flex"},H={class:"mt-2 mt-md-1"},K={class:"d-md-block d-none"},O={class:"d-flex mt-3 list-unstyled"},Q={class:"d-flex me-5"},W={class:"d-flex list-unstyled mt-2"},X={class:"material-icons text-primary position-relative fs-3 me-4"},Y=t("i",{class:"bi bi-heart-fill"},null,-1),Z={class:"fs-3 text-primary position-relative","data-bs-toggle":"offcanvas",href:"#offcanvasExample",role:"button","aria-controls":"offcanvasExample"},tt=t("i",{class:"bi bi-cart-fill"},null,-1),st={class:"ms-4 dropdown d-md-none"},at=t("a",{class:"fs-2 dropdown-toggle",href:"#",id:"dropdownMenuLink","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"bi bi-list"})],-1),ot={class:"dropdown-menu shadow text-center","aria-labelledby":"dropdownMenuLink"},et=t("hr",null,null,-1),lt=t("hr",null,null,-1),it={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasExample","aria-labelledby":"offcanvasExampleLabel"},nt=t("div",{class:"offcanvas-header"},[t("h5",{class:"offcanvas-title",id:"offcanvasExampleLabel"},"購物車"),t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),ct={key:0,class:"offcanvas-body p-4"},dt=["to"],rt=["onClick"],ut=t("i",{class:"bi bi-trash3-fill"},null,-1),_t=[ut],ft={class:"mx-3"},pt=["src","alt"],bt={class:"d-flex flex-column justify-content-start pt-2 pb-1"},ht={class:"fw-bold fs-5 mb-3"},vt={class:"d-flex align-items-end mb-3"},mt={class:"fw-bold fs-5"},gt={class:"fw-bold fs-7 ms-2 text-muted"},xt={class:"fs-7"},wt={key:1,class:"p-4 text-center"},kt=t("span",{class:"fs-1 material-icons-outlined sentiment_dissatisfied text-primary pb-3"},[t("i",{class:"bi bi-emoji-smile-fill"})],-1),yt=t("p",null,"沒有任何商品",-1),$t={__name:"FrontNav",setup(r){const f=P(),i=R(),h=y([]),_=y({carts:[]});function v(){x.get("https://vue3-course-api.hexschool.io/v2/api/kjwapi/cart").then(a=>{_.value=a.data.data}).catch(a=>{console.error(a.response)})}function S(a){x.delete(`https://vue3-course-api.hexschool.io/v2/api/kjwapi/cart/${a}`).then(()=>{v(),g.emit("get-cart"),T.fire({position:"top-end",icon:"success",title:"已刪除",showConfirmButton:!1,timer:1e3})}).catch(m=>{T.fire({icon:"error",title:"錯誤",text:m.response.data.message}),console.error("錯誤訊息:",m.response)})}function V(){i.push("/cart")}function j(){i.push("/products")}function F(){x.get("https://vue3-course-api.hexschool.io/v2/api/kjwapi/products/all").then(a=>{h.value=a.data.products}).catch(a=>{console.error(a.response)})}return q(()=>{F(),g.on("get-cart",v)}),E(()=>{g.off("get-cart",v)}),(a,m)=>{var k;const N=p("VLoading"),n=p("RouterLink");return c(),d(b,null,[s(N,{active:a.isLoading},{default:o(()=>[J]),_:1},8,["active"]),t("div",z,[t("div",A,[t("div",G,[t("h1",H,[s(n,{to:"/",class:"ms-5 navbar-brand dancing-script fs-1 fw-bold"},{default:o(()=>[l("Tea Talk")]),_:1})]),t("div",K,[t("ul",O,[t("li",null,[s(n,{class:"link pb-3 ms-5 fs-7 fw-bold",to:"/products"},{default:o(()=>[l("所有商品")]),_:1})]),t("li",null,[s(n,{class:"link pb-3 ms-4 fs-7 fw-bold",to:"/about"},{default:o(()=>[l("關於我們")]),_:1})]),t("li",null,[s(n,{class:"link pb-3 ms-4 fs-7 fw-bold",to:"/qa"},{default:o(()=>[l("常見問題")]),_:1})])])])]),t("div",Q,[t("ul",W,[t("li",null,[s(n,{class:"home text-primary",to:"/favorite"},{default:o(()=>[t("span",X,[Y,$(t("span",{class:"favorite-num rounded-pill bg-danger position-absolute"},u(L(f).favoriteCount),513),[[C,L(f).favoriteCount>0]])])]),_:1})]),t("li",null,[t("a",Z,[tt,$(t("span",{class:"cart-num rounded-pill bg-danger position-absolute"},u(_.value.carts.length),513),[[C,_.value.carts.length>0]])])]),t("li",null,[t("div",st,[at,t("ul",ot,[t("li",null,[s(n,{class:"link fs-5 fw-bold",to:"/products"},{default:o(()=>[l("所有商品")]),_:1})]),et,t("li",null,[s(n,{class:"link fs-5 fw-bold",to:"/about"},{default:o(()=>[l("關於我們")]),_:1})]),lt,t("li",null,[s(n,{class:"link fs-5 fw-bold",to:"/qa"},{default:o(()=>[l("常見問題")]),_:1})])])])])])])])]),t("div",it,[nt,((k=_.value.carts)==null?void 0:k.length)!==0?(c(),d("div",ct,[(c(!0),d(b,null,B(_.value.carts,e=>(c(),d("div",{key:e.id},[t("div",{class:"card-item d-flex mb-3",to:`/product/${e.product.id}`},[t("span",{class:"material-icons-outlined align-self-center text-muted del-icon",onClick:Bt=>S(e.id)},_t,8,rt),t("div",ft,[t("img",{class:"cart-img rounded-3",src:e.product.imageUrl,alt:e.title},null,8,pt)]),t("div",bt,[t("h3",ht,u(e.product.title),1),t("div",vt,[t("p",mt," NT$ "+u(a.$filters.currency(e.product.price*e.qty)),1),t("del",gt," NT$ "+u(a.$filters.currency(e.product.origin_price*e.qty)),1)]),t("p",xt,"數量："+u(e.qty),1)])],8,dt)]))),128)),t("button",{type:"button",class:"btn btn-primary text-white mt-4 w-100","data-bs-dismiss":"offcanvas",onClick:V}," 前往購物清單 ")])):(c(),d("div",wt,[kt,yt,t("button",{type:"button",class:"btn btn-primary text-white mt-4 w-100","data-bs-dismiss":"offcanvas",onClick:j}," 來去選購！ ")]))])],64)}}},Lt={},w=r=>(D("data-v-9352b927"),r=r(),M(),r),Ct=w(()=>t("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"},null,-1)),Tt={class:"footer-dark"},St={class:"container"},Vt={class:"row"},jt={class:"col-sm-6 col-md-3 item text-space"},Ft=w(()=>t("h3",null,"服務相關",-1)),Nt=I('<div class="col-sm-6 col-md-3 item text-space" data-v-9352b927><h3 data-v-9352b927>客服相關</h3><ul data-v-9352b927><li data-v-9352b927><a href="tel:061234567" data-v-9352b927>客服電話 : 06-1234567</a></li><li data-v-9352b927><a href="mailto:teatalk@gmail.com" data-v-9352b927>客服信箱 : teatalk@gmail.com</a></li><li data-v-9352b927><a data-v-9352b927>服務時段 : 週一～週五 9am-6pm</a></li></ul></div><div class="col-md-6 item text text-space" data-v-9352b927><h3 data-v-9352b927>Tea Talk</h3><p data-v-9352b927> 中華文化博大精深，飲茶文化更是其最。<br data-v-9352b927> 喝茶人人都會、時時刻刻都在喝茶聊天，以茶會友。<br data-v-9352b927> 但是大家都忘記最簡單最平常的喝茶也需要學習的深奧的學問。<br data-v-9352b927></p></div><div class="col item social" data-v-9352b927><a href="https://github.com/Jianwei2000" target="_blink" data-v-9352b927><i class="bi bi-github" data-v-9352b927></i></a><a href="https://www.facebook.com/" target="_blink" data-v-9352b927><i class="bi bi-facebook" data-v-9352b927></i></a><a href="https://www.instagram.com/" target="_blink" data-v-9352b927><i class="bi bi-instagram" data-v-9352b927></i></a></div>',3),Rt=w(()=>t("p",{class:"copyright text-space dancing-script"},"Tea Talk © 2024",-1));function qt(r,f){const i=p("RouterLink");return c(),d(b,null,[Ct,t("div",Tt,[t("footer",null,[t("div",St,[t("div",Vt,[t("div",jt,[Ft,t("ul",null,[t("li",null,[s(i,{to:"/products"},{default:o(()=>[l("所有商品")]),_:1})]),t("li",null,[s(i,{to:"/about"},{default:o(()=>[l("關於我們")]),_:1})]),t("li",null,[s(i,{to:"/qa"},{default:o(()=>[l("常見問題")]),_:1})]),t("li",null,[s(i,{to:"/login"},{default:o(()=>[l("進入後台")]),_:1})])])]),Nt]),Rt])])])],64)}const Et=U(Lt,[["render",qt],["__scopeId","data-v-9352b927"]]),Ut={__name:"FrontView",setup(r){return(f,i)=>{const h=p("RouterView");return c(),d(b,null,[s($t),s(h),s(Et)],64)}}};export{Ut as default};
