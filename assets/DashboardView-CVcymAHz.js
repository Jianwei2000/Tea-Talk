import{r as w,u as x,b as m,c as f,d as b,g as o,s as C,f as e,w as a,h as s,A as T,F as k,p as g,n as $,o as y,l as v}from"./index-CyAoszrq.js";import{S as h}from"./sweetalert2.all-CoQWtg_d.js";import{_ as B}from"./plugin-vueexport-helper-DlAUqK2U.js";const c=t=>(g("data-v-37d188a2"),t=t(),$(),t),S=c(()=>o("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"},null,-1)),D={class:"bg-dark"},I={class:"d-flex justify-content-between"},V=c(()=>o("div",{class:"sidebar-head col-md-2 text-white d-none d-md-block text-decoration-none text-center py-2"},[o("i",{class:"bi bi-gear-fill"}),s(" 後台管理 ")],-1)),N=c(()=>o("button",{class:"btn btn-dark dropdown-toggle rounded-0",type:"button","aria-expanded":"false"},[o("i",{class:"bi bi-gear-fill"}),s(" 後台管理 ")],-1)),R=c(()=>o("i",{class:"bi bi-box-seam"},null,-1)),j=c(()=>o("i",{class:"bi bi-list-check"},null,-1)),L=c(()=>o("i",{class:"bi bi-ticket-detailed"},null,-1)),M={__name:"DashboardNav",setup(t){const n=w(!1);function i(){n.value=!n.value}const _=x();function l(){h.fire({title:"是否要登出?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"確定",cancelButtonText:"取消"}).then(d=>{d.isConfirmed&&(document.cookie="TeaTalkToken=; expires=;",_.push("/login"))})}return(d,r)=>{const p=m("router-link");return f(),b(k,null,[S,o("div",D,[o("div",I,[V,o("div",{class:"dropdown d-md-none",onClick:i},[N,o("ul",{class:C(["dropdown-menu fs-4 shadow rounded-0",{show:n.value}]),"aria-labelledby":"dropdownMenuButton1"},[o("li",null,[e(p,{class:"dropdown-item",to:"/admin"},{default:a(()=>[R,s(" 商品管理")]),_:1})]),o("li",null,[e(p,{class:"dropdown-item",to:"/admin/order"},{default:a(()=>[j,s(" 訂單管理")]),_:1})]),o("li",null,[e(p,{class:"dropdown-item",to:"/admin/coupon"},{default:a(()=>[L,s(" 優惠碼管理")]),_:1})])],2)]),o("a",{class:"btn text-white fw-bold px-4",type:"button",onClick:T(l,["prevent"])}," 登出 ")])])],64)}}},z=B(M,[["__scopeId","data-v-37d188a2"]]),A={},u=t=>(g("data-v-76ed7920"),t=t(),$(),t),F=u(()=>o("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"},null,-1)),O={class:"d-none d-md-block side-bar"},E={class:"nav text-left fw-bolder fs-6 m-5"},q={class:"nav-item"},G=u(()=>o("i",{class:"bi bi-box-seam"},null,-1)),H=u(()=>o("i",{class:"bi bi-list-check"},null,-1)),J=u(()=>o("i",{class:"bi bi-ticket-detailed"},null,-1));function K(t,n){const i=m("RouterLink");return f(),b(k,null,[F,o("div",O,[o("ul",E,[o("li",q,[e(i,{class:"nav-link",to:"/admin"},{default:a(()=>[G,s(" 商品管理 ")]),_:1}),e(i,{class:"nav-link",to:"/admin/order"},{default:a(()=>[H,s(" 訂單管理 ")]),_:1}),e(i,{class:"nav-link",to:"/admin/coupon"},{default:a(()=>[J,s(" 優惠碼管理 ")]),_:1})])])])],64)}const P=B(A,[["render",K],["__scopeId","data-v-76ed7920"]]),Q={class:"row gx-0"},U={class:"col-md-2"},W={class:"col"},oo={__name:"DashboardView",setup(t){const n=x(),i=w(!1);function _(){const l=document.cookie.replace(/(?:(?:^|.*;\s*)TeaTalkToken\s*=\s*([^;]*).*$)|^.*$/,"$1");l?(v.defaults.headers.common.Authorization=l,v.post("https://vue3-course-api.hexschool.io/v2/api/user/check").then(()=>{i.value=!0}).catch(r=>{console.log(r),h.fire({icon:"error",title:"登入失敗",text:"請重新登入!"}),n.push("/login")})):(h.fire({icon:"error",title:"登入失敗",text:"請重新登入!"}),n.push("/login"))}return y(()=>{_()}),(l,d)=>{const r=m("RouterView");return f(),b(k,null,[e(z),o("div",Q,[o("div",U,[e(P)]),o("div",W,[e(r)])])],64)}}};export{oo as default};
